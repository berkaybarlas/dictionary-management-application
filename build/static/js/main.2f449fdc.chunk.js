(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/add.e5c3df93.svg"},,function(e,t,a){},,function(e,t,a){e.exports=a.p+"static/media/cancel.283bf64d.svg"},function(e,t,a){e.exports=a.p+"static/media/warning-red.f656c0d0.svg"},function(e,t,a){e.exports=a.p+"static/media/warning-yellow.5a62ddf2.svg"},function(e,t,a){e.exports=a(27)},,,,,,function(e,t,a){},,function(e,t,a){},,,,function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(11),o=a.n(c),r=(a(21),a(2)),s=a(3),l=a(5),d=a(4),m=a(6),u=(a(23),a(1)),h=(a(7),a(12)),b=a.n(h),v=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("button",{className:"line-button",onClick:this.props.clickHandler},i.a.createElement("img",{width:17,src:b.a,alt:""}))}}]),t}(i.a.Component),f=a(13),g=a.n(f),p=a(14),O=a.n(p),j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleRemoveClick=function(){a.props.remove(a.props.item.id)},a.warning=function(e){return 2===e?i.a.createElement("img",{className:"line-warning",width:20,src:g.a,alt:""}):1===e?i.a.createElement("img",{className:"line-warning",width:20,src:O.a,alt:""}):void 0},a.handleRemoveClick=a.handleRemoveClick.bind(Object(u.a)(Object(u.a)(a))),a.handleDomainChange=a.handleDomainChange.bind(Object(u.a)(Object(u.a)(a))),a.handleRangeChange=a.handleRangeChange.bind(Object(u.a)(Object(u.a)(a))),a.warning=a.warning.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleDomainChange",value:function(e){this.props.edit(this.props.item.id,e.target.value,"domain")}},{key:"handleRangeChange",value:function(e){this.props.edit(this.props.item.id,e.target.value,"range")}},{key:"render",value:function(){return i.a.createElement("div",{className:"line-item"},i.a.createElement("form",null,i.a.createElement("input",{className:"line-left",value:this.props.item.domain,onChange:this.handleDomainChange})),i.a.createElement("form",{className:"line-info"},i.a.createElement("input",{className:"line-right",value:this.props.item.range,onChange:this.handleRangeChange}),this.warning(this.props.item.problemLevel),i.a.createElement(v,{className:"line-button",clickHandler:this.handleRemoveClick}," ")))}}]),t}(i.a.Component),y=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"table-list"},this.props.items.map(function(t){return i.a.createElement(j,{key:t.id,item:t,remove:e.props.remove,edit:e.props.edit})}))}}]),t}(i.a.Component),k=(a(10),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(){a.props.change(a.props.item.id)},a.handleRemoveClick=function(){a.props.remove(a.props.item.id)},a.handleClick=a.handleClick.bind(Object(u.a)(Object(u.a)(a))),a.handleRemoveClick=a.handleRemoveClick.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"Dictionary"},i.a.createElement("button",{className:"dictionary-button",onClick:this.handleClick},this.props.item.name),i.a.createElement(v,{className:"line-button",clickHandler:this.handleRemoveClick}," "))}}]),t}(n.Component)),C=a(8),w=a.n(C),E=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(e){var t=a.state.dictionaries.findIndex(function(t){return t.id===e});-1!==t&&a.setState(function(t){return{lastDictId:e}},function(){return a.props.change(a.state.dictionaries[t].items,a.state.dictionaries[t].name)})},a.updateTable=function(e,t){var n=a.state.dictionaries,i=n.findIndex(function(t){return t.id===e});-1!==i&&(n[i].items=t,a.setState(function(e){return{dictionaries:n}},function(){a.saveToStorage()}))},a.remove=function(e){a.setState(function(t){return{dictionaries:t.dictionaries.filter(function(t){return t.id!==e})}})},a.state={dictionaries:[],items:[],dictionary:"",history:{dictionaries:[]},lastDictId:""},a.handleChange=a.handleChange.bind(Object(u.a)(Object(u.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(Object(u.a)(a))),a.saveToStorage=a.saveToStorage.bind(Object(u.a)(Object(u.a)(a))),a.updateTable=a.updateTable.bind(Object(u.a)(Object(u.a)(a))),a.handleClick=a.handleClick.bind(Object(u.a)(Object(u.a)(a))),a.remove=a.remove.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){this.setState({dictionary:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.state.dictionary.length){var a=[];""===this.state.lastDictId&&(a=this.props.items);var n={id:Date.now(),name:this.state.dictionary,items:a};this.setState(function(e){return{dictionaries:e.dictionaries.concat(n),dictionary:"",lastDictId:n.id}},function(){t.handleClick(n.id),t.saveToStorage()})}}},{key:"componentWillReceiveProps",value:function(e){void 0!==e&e.items!==this.state.items&e.items!==[]&&(this.setState({items:e.items}),this.updateTable(this.state.lastDictId,e.items))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("header",{className:"table-header"},"Dictionaries"),i.a.createElement("div",{className:"Dictionaries"},i.a.createElement("div",{className:"dictionary-list"},this.state.dictionaries.map(function(t){return i.a.createElement(k,{className:"dictionary-item",key:t.id,item:t,change:e.handleClick,remove:e.remove})})),i.a.createElement("form",{className:"Dictionary",onSubmit:this.handleSubmit},i.a.createElement("input",{className:"dictionary-input",onChange:this.handleChange,value:this.state.dictionary}),i.a.createElement("button",{className:"line-button"},i.a.createElement("img",{width:17,src:w.a,alt:""})))))}},{key:"saveToStorage",value:function(){var e=this.state.history;e.dictionaries=this.state.dictionaries,localStorage.setItem("dictionaries",JSON.stringify(e))}},{key:"componentDidMount",value:function(){this.recover()}},{key:"recover",value:function(){var e=JSON.parse(localStorage.getItem("dictionaries"));e&&this.setState({history:e,dictionaries:e.dictionaries})}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).changeDictionary=function(e,t){a.setState({items:e,dictionaryName:t})},a.remove=function(e){a.setState(function(t){return{items:t.items.filter(function(t){return t.id!==e})}})},a.edit=function(e,t,n){var i=a.state.items,c=i.findIndex(function(t){return t.id===e});-1!==c&&(i[c][n]=t,a.setState(function(e){return{items:i}},function(){a.saveToStorage()}))},a.validate=function(){var e={};a.state.items.map(function(t){return void 0!==e[t.range]?t.problemLevel=2:void 0===e[t.domain]?(e[t.domain]=t.range,t.problemLevel=0):t.problemLevel=1,t}),a.forceUpdate()},a.state={number:0,items:[],domain:"",range:"",dictionaryName:"",history:{items:[]}},a.handleDomainChange=a.handleDomainChange.bind(Object(u.a)(Object(u.a)(a))),a.handleRangeChange=a.handleRangeChange.bind(Object(u.a)(Object(u.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(Object(u.a)(a))),a.saveToStorage=a.saveToStorage.bind(Object(u.a)(Object(u.a)(a))),a.recover=a.recover.bind(Object(u.a)(Object(u.a)(a))),a.remove=a.remove.bind(Object(u.a)(Object(u.a)(a))),a.edit=a.edit.bind(Object(u.a)(Object(u.a)(a))),a.validate=a.validate.bind(Object(u.a)(Object(u.a)(a))),a.changeDictionary=a.changeDictionary.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.recover()}},{key:"recover",value:function(){var e=JSON.parse(localStorage.getItem("history"));e&&this.setState({history:e,items:e.items,dictionaryName:e.dictionaryName})}},{key:"saveToStorage",value:function(){var e=this.state.history;e.items=this.state.items,e.dictionaryName=this.state.dictionaryName,localStorage.setItem("history",JSON.stringify(e))}},{key:"handleDomainChange",value:function(e){this.setState({domain:e.target.value})}},{key:"handleRangeChange",value:function(e){this.setState({range:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.state.domain.length&&this.state.range.length){var a={id:Date.now(),domain:this.state.domain,range:this.state.range,problemLevel:0};this.setState(function(e){return{items:e.items.concat(a),domain:"",range:""}},function(){t.saveToStorage()})}}},{key:"render",value:function(){return i.a.createElement("div",{className:"App-body"},i.a.createElement(E,{items:this.state.items,change:this.changeDictionary}),i.a.createElement("div",null,i.a.createElement("header",{className:"table-header"},"Dictionary: ",this.state.dictionaryName,i.a.createElement("button",{className:"validate-button",onClick:this.validate}," Validate")),i.a.createElement("div",{className:"table"},i.a.createElement(y,{items:this.state.items,remove:this.remove,edit:this.edit}),i.a.createElement("div",null,i.a.createElement("form",{className:"table-bottom",onSubmit:this.handleSubmit},i.a.createElement("input",{className:"table-input",id:"new-table1",onChange:this.handleDomainChange,value:this.state.domain}),i.a.createElement("input",{id:"new-table2",className:"table-input",onChange:this.handleRangeChange,value:this.state.range}),i.a.createElement("button",{className:"table-button"},i.a.createElement("img",{width:17,src:w.a,alt:""})))))))}}]),t}(i.a.Component),N=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"App-header"},i.a.createElement("div",{className:"App-body"},i.a.createElement(S,null))))}}]),t}(n.Component),D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(i.a.createElement(N,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/dictionary-management-application",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/dictionary-management-application","/service-worker.js");D?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):R(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):R(t,e)})}}()}],[[15,2,1]]]);
//# sourceMappingURL=main.2f449fdc.chunk.js.map